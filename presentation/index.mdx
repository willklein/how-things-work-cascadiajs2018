import { Appear, Cite, Fill, Fit, Image, Notes } from 'spectacle'
import { NeoSlide, KungFuSlide, ExplorerSlide, DarkSlide, LightSlide, ProfileSlide, CodeSlide, DrillSlide, TitleSlide, TitleImageSlide, LatheSlide, WorkshopSlide, WorkshopTitleSlide, MachineSlide, CiteTiny } from './slides'

export default TitleImageSlide

---

export default DrillSlide

<Notes>
  Let me tell you about my dad.

</Notes>

---

export default LatheSlide

<Notes>
  Worked for a summer.

</Notes>

---

export default WorkshopSlide

<Notes>
  Why be a toolmaker? What does this have to do with JavaScript?

</Notes>

---

export default WorkshopTitleSlide


# How Linters, Compilers & Other Cool Things Work

### Will Klein
### @willslab

<Notes>
  Let's talk about, and how cool things work,

  and while we're at it, how we can help each other be more effective developers.

</Notes>

---

export default ProfileSlide

<Notes>
  My name is Will Klein, and I'm from Longmont Colorado. I work at Workday,
  where I build products I hope make someone's day a little better, a little
  happier.
</Notes>

---

## Today's Cool Stuff
- problems
- compilers
- why ???s are awesome
- solutions

<Notes>
  As a software developer, I'm still really curious about how things work.
  There's a lot to be curious about: browser internals, rendering engines,
  virtual doms, asynchronous rendering in React...
</Notes>

---

# Code Review

<Notes>
  There's one particular technique that I've realized is exceptionally practical. What if we could automate code reviews by detecting patterns in code?
</Notes>

---

### Language Features

<Notes>
  What if we could implement our own language features? What if we could simply
  --understand-- how the code we write, is interpreted and understood by the
  machine?
</Notes>

---

## API Changes

<Notes>
   What if we could automate refactors when library APIs change?
</Notes>
---

<Notes>
  Well, I'm here to share: these are the things --all of us-- can do with
  ESLint, Babel, and code transforms.

  Let's dive in right away, and talk about computer language. For cool stuff to
  happen in the browser, the code we write goes through a process of being
  transformed into something else, over and over again, until the computer has
  1s and 0s hitting the CPU. To understand this, we don't need to learn assembly
  language, or advanced compiler techniques. We only need JavaScript.
</Notes>

---

export default CodeSlide

```javascript
// Life, Universe, and Everything

var answer = 6 * 7;

// => 100011101010111010100011

```

<Notes>how does this work?</Notes>

---

export default LightSlide

<Image src="magic.webp" height={600} />

---

![](babel.svg)

<Notes>
  That technique of defining nodes we care about? Babel let's you do the same thing. (look at a babel macro). The difference here is what you do when you find a pattern you care about. instead of reporting stuff, you mutate stuff 
</Notes>

---

> Most compilers break down into three primary stages: *Parsing*, *Transformation*, and *Code Generation*

<CiteTiny />

---

> 1. *Parsing* is taking raw code and turning it into a more abstract
>    representation of the code.

<CiteTiny />

---

> 2. *Transformation* takes this abstract representation and manipulates to do
>    whatever the compiler wants it to.

<CiteTiny />

---

> 3. *Code Generation* takes the transformed representation of the code and
>    turns it into new code.

<CiteTiny />

---
export default LightSlide

# Abstract Representation

---

export default CodeSlide

```javascript
// Life, Universe, and Everything

var answer = 6 * 7;

// => 100011101010111010100011

```

---

export default CodeSlide

```javascript
[var] [answer] [=] [6] [*] [7][;]
```

---

export default CodeSlide

```javascript
['var', 'answer', '=', '6', '*', '7']
```

---

<Image src="tree.png" width={1000} />

---

export default ExplorerSlide

---

export default KungFuSlide


<Notes>
  We are JUST scratching the surface of what is possible with ASTs.
</Notes>

---

export default NeoSlide

# I know <strike>Kung Fu</strike> ASTs

---

# TRY IT

<Notes>
  Try it.
</Notes>
---

# Automate Code Review

<Notes>
  Do your teams a favor? Try automating your code reviews! Use (and write) codemods!
</Notes>
---

# Automate API Changes

<Notes>
  the next time you have shared code with breaking changes and lots of usages,
  internally, or out in the wild
</Notes>

---

<Notes>
  Let me share one more story. One of my favorite JSConf talks was from a young developer giving his first conference talk. He shared some history of why he got into learning about ASTs.
</Notes>

---

> There was this new thing called ES6 ... There was a large gap in my knowledge on parsers, compilers and generally the intracacies of JavaScript. so I decided to make an ES6 transpiler to learn it, called 6to5.

<Appear>
  <Cite textColor="#95FDE4">
    Sebastian McKenzie, author of <strike>6to5</strike> Babel
  </Cite>
</Appear>

<Notes>
  Now ... I'm not about to go out and write my own JavaScript compiler, but thanks his work, what Nicholas Zakas has done with ESLint, and the work of many, many other open source contributors, we have a fantastic set of tools that all of us can extend for ourselves.
</Notes>

---

export default MachineSlide

---

export default MachineSlide

# Build Cool Things

<Appear textColor="#FFF">
  <div>
    <p style={{color: '#FFF'}}>
      <strong>Will Klein</strong>
<br /><br />
    @willslab
    </p>
  </div>
</Appear>

<Notes>
  that help you, your team, and maybe everyone who writes javascript

  ... be more effective as developers.
  
  This has been fun, thanks for having me.
</Notes>
